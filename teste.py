import time
from datetime import datetime
import requests
import json
import threading

def sendCloud(t):
  headers = {'Content-Type': 'application/json', 'Accept':'application/json'}
  resposta = requests.post("http://10.0.0.10:5000/test", data=json.dumps(t), headers=headers)
  


now = datetime.now()
timestamp = datetime.timestamp(now)

data = {
	"lista" : [
    [-0.127, -0.957, -0.425, -0.366, 0.427, -3.963], [-0.127, -0.957, -0.425, 1.22, 7.256, -6.524], [-0.104, -0.909, -0.377, -3.171, -6.037, 2.927], [-0.127, -0.957, -0.425, -0.366, 0.427, -3.963], [-0.127, -0.957, -0.425, 1.22, 7.256, -6.524], [-0.104, -0.909, -0.377, -3.171, -6.037, 2.927],[-0.127, -0.957, -0.425, -0.366, 0.427, -3.963], [-0.127, -0.957, -0.425, 1.22, 7.256, -6.524], [-0.104, -0.909, -0.377, -3.171, -6.037, 2.927],[-0.127, -0.957, -0.425, -0.366, 0.427, -3.963], [-0.127, -0.957, -0.425, 1.22, 7.256, -6.524], [-0.104, -0.909, -0.377, -3.171, -6.037, 2.927],[-0.127, -0.957, -0.425, -0.366, 0.427, -3.963], [-0.127, -0.957, -0.425, 1.22, 7.256, -6.524], [-0.104, -0.909, -0.377, -3.171, -6.037, 2.927],[-0.127, -0.957, -0.425, -0.366, 0.427, -3.963], [-0.127, -0.957, -0.425, 1.22, 7.256, -6.524], [-0.104, -0.909, -0.377, -3.171, -6.037, 2.927],[-0.127, -0.957, -0.425, -0.366, 0.427, -3.963], [-0.127, -0.957, -0.425, 1.22, 7.256, -6.524], [-0.104, -0.909, -0.377, -3.171, -6.037, 2.927],[-0.127, -0.957, -0.425, -0.366, 0.427, -3.963]], 
    "timestamp": timestamp
}

contin = True

while contin:
	now = datetime.now()
	timestamp = datetime.timestamp(now)
	data["timestamp"] = timestamp
	x = threading.Thread(target=sendCloud, args=(data,))
	x.start()
	time.sleep(1)

